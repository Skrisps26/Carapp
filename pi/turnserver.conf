# ============================================================
# coturn configuration for Raspberry Pi (local TURN relay)
# ============================================================
# CRITICAL: Must support TCP because Android's hotspot UDP
# doesn't route through the AP interface, but TCP does.
# ============================================================

# Listen on all interfaces, both TCP and UDP
listening-port=3478
listening-ip=0.0.0.0

# Realm
realm=assva.local

# Static credentials
user=assva:assva2026

# Disable TLS (local network only)
no-tls
no-dtls

# Verbose logging
verbose

# Fingerprint
fingerprint

# Long-term credential mechanism
lt-cred-mech

# Log to stdout
log-file=stdout

# Relay threads
relay-threads=2

# Max allocations
total-quota=100
stale-nonce=600

# CRITICAL: Allow the Pi's own server to connect to relay allocations
# This is needed because aiortc connects to the relay from the same machine
allow-loopback-peers

# CRITICAL: Allow peers on any network (needed for hotspot NAT)
no-multicast-peers
